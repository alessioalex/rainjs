

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Changelog &mdash; Rain 0.31.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.31.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Rain 0.31.0 documentation" href="index.html" />
    <link rel="prev" title="NginX static routes server" href="proposals/nginx_static_routes.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="proposals/nginx_static_routes.html" title="NginX static routes server"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Rain 0.31.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="v-0-31-0">
<h2>v 0.31.0<a class="headerlink" href="#v-0-31-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Implemented CSS minification for RAIN projects.</li>
<li>Fixed bug: external javascript modules weren&#8217;t loaded correctly for minified projects.</li>
<li>Fixed bug: RainError wasn&#8217;t working properly on IE 10.</li>
<li>Fixed bug: when using <tt class="docutils literal"><span class="pre">context._getChildren</span></tt> an error was thrown if multiple child components
were not found.</li>
<li>Fixed bug: in some situations the placeholder was registered instead of the actual component.</li>
<li>Fixed bug: in some situations the child components where duplicated in the children array.</li>
<li>Fixed bug: a load timeout was happening randomly when loading modules using RequireJS. This
was fixed by disabling the load timeout in the RequireJS configuration.</li>
</ul>
</div>
<div class="section" id="v-0-30-0">
<h2>v 0.30.0<a class="headerlink" href="#v-0-30-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added SDK command to minify project</li>
<li>Added date, time, number, currency, percentage and date range handlebars helpers</li>
<li>Added format module to format date, time, number, currency, percentange and date range.</li>
<li>Added ttl support for mongodb.</li>
<li>Implemented primary indexing for mongodb.</li>
</ul>
</div>
<div class="section" id="v-0-29-0">
<h2>v 0.29.0<a class="headerlink" href="#v-0-29-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added functionality to prevent the session cookie from expiring when only web sockets are used.
This works by sending an AJAX request to the server when the cookie is about to expire.
An event is published when the cookie expires.</li>
</ul>
</div>
<div class="section" id="v-0-28-1">
<h2>v 0.28.1<a class="headerlink" href="#v-0-28-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Use an empty Jed instance when a component instance is not found.</li>
</ul>
</div>
<div class="section" id="v-0-28-0">
<h2>v 0.28.0<a class="headerlink" href="#v-0-28-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added the ability to add a custom id for translation messages. See the documentation for
<tt class="docutils literal"><span class="pre">t</span></tt> and <tt class="docutils literal"><span class="pre">nt</span></tt> methods from client and server side JavaScript and <tt class="docutils literal"><span class="pre">t</span></tt> and <tt class="docutils literal"><span class="pre">nt</span></tt> helpers
for more details.</li>
<li>The output of <tt class="docutils literal"><span class="pre">t</span></tt> and <tt class="docutils literal"><span class="pre">nt</span></tt> handlebars helpers can be saved in a variable and used later
in the template. The <tt class="docutils literal"><span class="pre">var</span></tt> attribute should be used to achieve this behavior.</li>
<li>The user is automatically redirected to the login page when the main component requires an
authenticated user and the current user is not authenticated.</li>
<li>Added support for configurable bootstrap head tags. Meta, link and script tags can be added to
the head element or you can specify custom content. The page title can also be customized.</li>
<li>If the user is authenticated, he is redirected to the main page when trying to access the
login page.</li>
<li>Added <tt class="docutils literal"><span class="pre">no-store</span></tt> to the cache headers. This prevents the browser to take the page from
cache when using the back button.</li>
</ul>
</div>
<div class="section" id="v-0-27-1">
<h2>v 0.27.1<a class="headerlink" href="#v-0-27-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed an issue where the disconnect method of the socket object was called on a null reference.</li>
<li>Fixed an issue where a message was sent multiple times when the websocket reconnected.</li>
</ul>
</div>
<div class="section" id="v-0-27-0">
<h2>v 0.27.0<a class="headerlink" href="#v-0-27-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Idle websocket disconnect and reconnect.</li>
<li>Implemented Memory Store.</li>
<li>SysLog Log appender support.</li>
<li>Fixed context.insert bug(the callback received the placeholder).</li>
<li>Fixed synchronization bug on notes.</li>
</ul>
</div>
<div class="section" id="v-0-26-1">
<h2>v 0.26.1<a class="headerlink" href="#v-0-26-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Disabled runWithContext caching temporarily.</li>
</ul>
</div>
<div class="section" id="v-0-26">
<h2>v 0.26<a class="headerlink" href="#v-0-26" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Implemented monitoring module. This is a module used to measure various actions/events and send that data
to an adapter. This adapter forwards data to the actual monitoring software.</li>
<li>Implemented monitoring for: the number of fatal errors, websocket connections, idle websocket connections,
render events received through websockets and view requests being processed.</li>
<li>Imporved requireWithContext performance by using cache.</li>
</ul>
</div>
<div class="section" id="v-0-25">
<h2>v 0.25<a class="headerlink" href="#v-0-25" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Implemented log rotate. When a SIGUSR2 signal is sent to the process, RAIN renames the current
log file and creates a new file that will be used by the file appender for subsequent log
messages.</li>
<li>When a CSS file is requested from the component in which it is placed the scope is no
longer added at runtime.</li>
<li>The <tt class="docutils literal"><span class="pre">init</span></tt> and <tt class="docutils literal"><span class="pre">start</span></tt> methods from the client-side controller are called first for the
parent and then for the children.</li>
<li>The DOM for a component is shown after the <tt class="docutils literal"><span class="pre">start</span></tt> event is triggered.</li>
</ul>
</div>
<div class="section" id="v-0-24-1">
<h2>v 0.24.1<a class="headerlink" href="#v-0-24-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed a bug in identity provider where the same user was returned even if the session data
changed.</li>
</ul>
</div>
<div class="section" id="v-0-24">
<h2>v 0.24<a class="headerlink" href="#v-0-24" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Reduced the number of session requests.</li>
<li>Added <tt class="docutils literal"><span class="pre">useSession</span></tt> configuration option for the component&#8217;s <tt class="docutils literal"><span class="pre">meta.json</span></tt> file. It indicates
if the component needs session. The default value is <tt class="docutils literal"><span class="pre">false</span></tt>. The global session is still
retrieved for every request as it is needed for translation and identity provider.</li>
<li>Added <tt class="docutils literal"><span class="pre">cookieMaxAge</span></tt> option to the server configuration (the value is in seconds). A browser
session cookie will be used if this value is missing.</li>
<li>Added <tt class="docutils literal"><span class="pre">idp</span></tt> (the identity provider instance for the current request), <tt class="docutils literal"><span class="pre">user</span></tt> (the
current user) and <tt class="docutils literal"><span class="pre">environment</span></tt> on the custom request passed to the data layer method.</li>
<li>Added <tt class="docutils literal"><span class="pre">idp</span></tt>, <tt class="docutils literal"><span class="pre">user</span></tt> and <tt class="docutils literal"><span class="pre">environment</span></tt> on the HTTP request object for controllers.</li>
<li>Added <tt class="docutils literal"><span class="pre">idp</span></tt>, <tt class="docutils literal"><span class="pre">user</span></tt> and <tt class="docutils literal"><span class="pre">environment</span></tt> on the <tt class="docutils literal"><span class="pre">socket</span></tt> object for websockets.</li>
<li><tt class="docutils literal"><span class="pre">IdentityProvider.get(request.session)</span></tt> is no longer working since the global and component
session are now separated. Use <tt class="docutils literal"><span class="pre">request.idp</span></tt> or <tt class="docutils literal"><span class="pre">request.user</span></tt> instead (applies to
controller and data layer methods).</li>
<li>Fixed a CSS renderer bug where wrong CSS was removed.</li>
</ul>
</div>
<div class="section" id="v-0-23-3">
<h2>v 0.23.3<a class="headerlink" href="#v-0-23-3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Removed logger from po_utils because the rain terminal commands were not working anymore.</li>
</ul>
</div>
<div class="section" id="v-0-23-2">
<h2>v 0.23.2<a class="headerlink" href="#v-0-23-2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed a typo in controller_path module.</li>
</ul>
</div>
<div class="section" id="v-0-23-1">
<h2>v 0.23.1<a class="headerlink" href="#v-0-23-1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed <tt class="docutils literal"><span class="pre">rain</span> <span class="pre">create</span> <span class="pre">project</span></tt> command and added credentials.conf</li>
<li>Fixed internationalisation module - crashing on no <tt class="docutils literal"><span class="pre">tlds</span></tt> key with domains.</li>
</ul>
</div>
<div class="section" id="v-0-23">
<h2>v 0.23<a class="headerlink" href="#v-0-23" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Improved log messages.</li>
<li>The server configuration can be split in multiple files and the server reads all the <tt class="docutils literal"><span class="pre">.conf</span></tt>
files from the specified directory. The environment variable <tt class="docutils literal"><span class="pre">RAIN_CONF</span></tt> accepts a folder,
not the path to the configuration files. This allows storing sensitive information in a separate
file.</li>
<li>Added support for language configuration for multiple domains. The <tt class="docutils literal"><span class="pre">accept-language</span></tt> header
is also considered when choosing a language.</li>
<li>The <tt class="docutils literal"><span class="pre">view</span></tt> parameter of the component helper is now optional. The default value is <tt class="docutils literal"><span class="pre">index</span></tt>.</li>
<li>Fixed a CSS renderer bug where the same CSS file is added multiple times.</li>
<li>A new method was added to <tt class="docutils literal"><span class="pre">controller.context</span></tt> called <tt class="docutils literal"><span class="pre">delete</span></tt>. It deletes a component.</li>
<li>Updated Handlebars to the 1.0.8.</li>
</ul>
</div>
<div class="section" id="v-0-22">
<h2>v 0.22<a class="headerlink" href="#v-0-22" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The partial templates feature was implemented: the <tt class="docutils literal"><span class="pre">partial</span></tt> Handlebars helper was added.</li>
<li>The <tt class="docutils literal"><span class="pre">end</span></tt> callback that was passed to WebSocket handlers was removed. Now you can return a
promise in order to delay the session save.</li>
<li>The method <tt class="docutils literal"><span class="pre">context.messaging.getSocket</span></tt> changed to accept channel name as parameter. The
old form <tt class="docutils literal"><span class="pre">/component-id/version/channel</span></tt> still works, but it isn&#8217;t recommended.</li>
</ul>
</div>
<div class="section" id="v-0-20">
<h2>v 0.20<a class="headerlink" href="#v-0-20" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed a &#8220;raind&#8221; bug: RAIN_CONF environment variable was ignored.</li>
<li>Fixed an issue where calling raind from a sub-directory of the project would cause RAIN to crash.</li>
<li>Fixed a bug where a socket would not be flagged as connected in client rendering and no
components were rendered via websockets.</li>
</ul>
</div>
<div class="section" id="v-0-19">
<h2>v 0.19<a class="headerlink" href="#v-0-19" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Improved the CSS Renderer: now it can load more than 31 stylesheets and the loading process is
more efficient. This change is transparent for the developers. Warning: IE8 and IE9 can&#8217;t load
more than 32000 CSS rules.</li>
<li>Raintime was modified to generate static ids for the components with undefined static ids.</li>
<li>The init and start methods of a client side controller can return a promise to delay the init
and start events until the component is ready. Example: a component can wait for its children to
load before emitting the start event.</li>
</ul>
</div>
<div class="section" id="v-0-18">
<h2>v 0.18<a class="headerlink" href="#v-0-18" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Client-side component dependencies can be requested using the <tt class="docutils literal"><span class="pre">js/path/file_without_extension</span></tt>
convention (example: <tt class="docutils literal"><span class="pre">js/file</span></tt>, <tt class="docutils literal"><span class="pre">js/lib/file</span></tt>). The previous way of requesting js files
(<tt class="docutils literal"><span class="pre">/component/optional_version/js/file.js</span></tt>) still works but it&#8217;s not recommended.</li>
<li>Removed the <tt class="docutils literal"><span class="pre">util</span></tt> shortcut from the RequireJS paths. In order to use the <tt class="docutils literal"><span class="pre">util</span></tt> library you
should request it using <tt class="docutils literal"><span class="pre">raintime/lib/util</span></tt>.</li>
<li>Fixed a bug where a component added to the page using <tt class="docutils literal"><span class="pre">context.insert</span></tt> could not be found.</li>
</ul>
</div>
<div class="section" id="v-0-17">
<h2>v 0.17<a class="headerlink" href="#v-0-17" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added distributed rendering research.</li>
<li>Added improved CSS rendering research.</li>
<li>Improved the AsyncController methods and made all controllers inherit its methods.</li>
</ul>
</div>
<div class="section" id="v-0-16">
<h2>v 0.16<a class="headerlink" href="#v-0-16" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed CSS files not loading in IE8.</li>
<li>Added logger implementation for components and for client side.</li>
<li>Added code coverage support as additional Jake commands.</li>
<li>Added distributed websockets proposal.</li>
</ul>
</div>
<div class="section" id="v-0-15">
<h2>v 0.15<a class="headerlink" href="#v-0-15" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added distributed session support by using mongodb as the session store.</li>
<li>Added code coverage proposal.</li>
</ul>
</div>
<div class="section" id="v-0-14">
<h2>v 0.14<a class="headerlink" href="#v-0-14" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added support for containers.</li>
<li>Implemented identity provider for user authentication.</li>
<li>Cached resources based on locale.</li>
</ul>
</div>
<div class="section" id="v-0-13">
<h2>v 0.13<a class="headerlink" href="#v-0-13" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added support for dynamic internationalization.</li>
<li>Added language selector component.</li>
<li>Implemented the platform logger based on the feature proposal.</li>
<li>Added new RAIN SDK command for generating .po files.</li>
</ul>
</div>
<div class="section" id="v-0-12">
<h2>v 0.12<a class="headerlink" href="#v-0-12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added session / request objects in the data layer.</li>
<li>Added support for CSS media queries in the CSS Handlebars helper.</li>
<li>Added RAIN logger feature proposal.</li>
<li>Refactored the RAIN SDK and made it modular.</li>
</ul>
</div>
<div class="section" id="v-0-11">
<h2>v 0.11<a class="headerlink" href="#v-0-11" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added an article about Node&#8217;s best programming practices.</li>
</ul>
</div>
<div class="section" id="v-0-10">
<h2>v 0.10<a class="headerlink" href="#v-0-10" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Changed licensing model from MIT to BSD.</li>
</ul>
</div>
<div class="section" id="v-0-9">
<h2>v 0.9<a class="headerlink" href="#v-0-9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added support for client-side text localization.</li>
<li>Added a service to transport localization files to the client.</li>
</ul>
</div>
<div class="section" id="v-0-8">
<h2>v 0.8<a class="headerlink" href="#v-0-8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Implemented the security mechanism to intents.</li>
<li>Added a configuration option for the platform language and default language.</li>
<li>Added support for localized messages in the templates.</li>
<li>Added support for localized messages in the server side code.</li>
<li>Added support for localized images.</li>
<li>Added support for extended context in templates.</li>
<li>Added support for block components.</li>
<li>Added the feature proposal for transporting localization files to the client.</li>
</ul>
</div>
<div class="section" id="v-0-7">
<h2>v 0.7<a class="headerlink" href="#v-0-7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Rewrote all legacy server code: improvements in quality, structure and performance.</li>
<li>New router middleware for connect supporting plugins.</li>
<li>New component registry supporting plugins.</li>
<li>Top-to-bottom async engine replaces old xml parser and renderer.</li>
<li>HTTP transport layer that keeps the connection open and delivers components to the client as they are available.</li>
<li>Websockets transport layer for subsequent view requests.</li>
<li>Cache improvements: templates are precompiled at server startup.</li>
<li>Client runtime API improved.</li>
<li>Client rendering layer handling cached placeholder management and component insertion.</li>
</ul>
</div>
<div class="section" id="v-0-5">
<h2>v 0.5<a class="headerlink" href="#v-0-5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added exception handler module.</li>
<li>Added platform-level placeholder component and configuration.</li>
</ul>
</div>
<div class="section" id="v-0-4">
<h2>v 0.4<a class="headerlink" href="#v-0-4" title="Permalink to this headline">¶</a></h2>
<p>Here be dragons.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#v-0-31-0">v 0.31.0</a></li>
<li><a class="reference internal" href="#v-0-30-0">v 0.30.0</a></li>
<li><a class="reference internal" href="#v-0-29-0">v 0.29.0</a></li>
<li><a class="reference internal" href="#v-0-28-1">v 0.28.1</a></li>
<li><a class="reference internal" href="#v-0-28-0">v 0.28.0</a></li>
<li><a class="reference internal" href="#v-0-27-1">v 0.27.1</a></li>
<li><a class="reference internal" href="#v-0-27-0">v 0.27.0</a></li>
<li><a class="reference internal" href="#v-0-26-1">v 0.26.1</a></li>
<li><a class="reference internal" href="#v-0-26">v 0.26</a></li>
<li><a class="reference internal" href="#v-0-25">v 0.25</a></li>
<li><a class="reference internal" href="#v-0-24-1">v 0.24.1</a></li>
<li><a class="reference internal" href="#v-0-24">v 0.24</a></li>
<li><a class="reference internal" href="#v-0-23-3">v 0.23.3</a></li>
<li><a class="reference internal" href="#v-0-23-2">v 0.23.2</a></li>
<li><a class="reference internal" href="#v-0-23-1">v 0.23.1</a></li>
<li><a class="reference internal" href="#v-0-23">v 0.23</a></li>
<li><a class="reference internal" href="#v-0-22">v 0.22</a></li>
<li><a class="reference internal" href="#v-0-20">v 0.20</a></li>
<li><a class="reference internal" href="#v-0-19">v 0.19</a></li>
<li><a class="reference internal" href="#v-0-18">v 0.18</a></li>
<li><a class="reference internal" href="#v-0-17">v 0.17</a></li>
<li><a class="reference internal" href="#v-0-16">v 0.16</a></li>
<li><a class="reference internal" href="#v-0-15">v 0.15</a></li>
<li><a class="reference internal" href="#v-0-14">v 0.14</a></li>
<li><a class="reference internal" href="#v-0-13">v 0.13</a></li>
<li><a class="reference internal" href="#v-0-12">v 0.12</a></li>
<li><a class="reference internal" href="#v-0-11">v 0.11</a></li>
<li><a class="reference internal" href="#v-0-10">v 0.10</a></li>
<li><a class="reference internal" href="#v-0-9">v 0.9</a></li>
<li><a class="reference internal" href="#v-0-8">v 0.8</a></li>
<li><a class="reference internal" href="#v-0-7">v 0.7</a></li>
<li><a class="reference internal" href="#v-0-5">v 0.5</a></li>
<li><a class="reference internal" href="#v-0-4">v 0.4</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="proposals/nginx_static_routes.html"
                        title="previous chapter">NginX static routes server</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="proposals/nginx_static_routes.html" title="NginX static routes server"
             >previous</a> |</li>
        <li><a href="index.html">Rain 0.31.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>